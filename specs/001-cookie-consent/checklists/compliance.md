# Compliance Checklist: Cookie Consent Manager

**Purpose**: Unit-test the written GDPR/ePrivacy consent requirements for completeness, clarity, and readiness before implementation.
**Created**: 2025-11-14
**Feature**: [spec.md](../spec.md)

**Note**: This checklist is generated by the `/speckit.checklist` command based on feature context and requirements.

## Requirement Completeness

- [ ] CHK001 Are GDPR/ePrivacy legal obligations for initial consent, rejection, and essential-cookie justification explicitly documented for each banner action? [Completeness, Spec §User Story 1]
- [ ] CHK002 Are all lifecycle touchpoints (initial capture, category selection, preference edits, re-prompts) mapped to specific functional requirements without gaps between FR-001–FR-014? [Completeness, Spec §FR-001–FR-014]
- [ ] CHK003 Are consent log retention expectations paired with defined data fields (timestamp, categories, consent version, identifiers) so auditors know what must be recorded? [Completeness, Spec §FR-013]
- [ ] CHK004 Are administrator workflows for onboarding new cookies (detection, categorization, approval) fully specified beyond the assumption that site owners supply data? [Completeness, Spec §Assumptions]
- [ ] CHK005 Are user-visible banner states for both consented and non-consented visitors described for desktop and mobile breakpoints? [Gap]

## Requirement Clarity

- [ ] CHK006 Is the term “non-essential cookie” defined with objective criteria or examples so implementers know which scripts must be blocked? [Clarity, Spec §FR-003]
- [ ] CHK007 Is “permanently dismissed” quantified (timeframe, storage TTL) to avoid ambiguity about reappearance timing? [Clarity, Spec §User Story 1]
- [ ] CHK008 Are cookie category descriptions standardized (tone, length, legal phrasing) to ensure consistent transparency messaging? [Clarity, Spec §FR-005]
- [ ] CHK009 Is the “noticeable without blocking content” banner requirement translated into measurable layout specs (height, contrast, spacing) for designers? [Clarity, Spec §FR-015]

## Requirement Consistency

- [ ] CHK010 Do blocking requirements stay consistent between FR-003’s script wrapper approach and Edge Case guidance for JavaScript-disabled visitors? [Consistency, Spec §FR-003 & Edge Cases]
- [ ] CHK011 Are storage mechanism descriptions (localStorage + cookie identifier) aligned between FR-004, Key Entities, and Success Criteria without conflicting persistence rules? [Consistency, Spec §FR-004 & Key Entities]
- [ ] CHK012 Is the re-prompt expectation in User Story 3 Scenario 5 aligned with FR-014 so users are not over/under-prompted? [Consistency, Spec §User Story 3 & §FR-014]
- [ ] CHK013 Does the “no re-prompt for 12 months” success metric (SC-003) coexist logically with change-driven re-prompts, and is precedence stated? [Consistency, Spec §SC-003 & §FR-014]

## Acceptance Criteria Quality

- [ ] CHK014 Are acceptance scenarios for each user story linked to measurable signals (e.g., cookie counts blocked, state persistence) instead of qualitative statements? [Acceptance Criteria, Spec §User Stories]
- [ ] CHK015 Do success criteria specify how to measure timings such as “decision in under 10 seconds” and “banner loads within 1 second” (tooling, sampling, environments)? [Acceptance Criteria, Spec §SC-002 & §SC-006]
- [ ] CHK016 Is “consent persists 12 months” backed by explicit storage expiration rules and validation steps? [Acceptance Criteria, Spec §SC-003]
- [ ] CHK017 Are audit-log verification steps defined so “100% of consent events captured” can be proven (e.g., reconciliation process)? [Acceptance Criteria, Spec §SC-010]

## Scenario Coverage

- [ ] CHK018 Are automatic rejection flows triggered by Do Not Track fully described, including messaging and overrides? [Coverage, Spec §FR-012]
- [ ] CHK019 Are partial-consent scenarios (accept functional, reject marketing) covered with expected UI states and cookie enforcement details? [Coverage, Spec §User Story 2]
- [ ] CHK020 Are preference-change flows for Accept→Reject, Reject→Accept, and per-category toggles described with resulting cookie cleanup steps? [Coverage, Spec §User Story 3]
- [ ] CHK021 Are admin-driven cookie catalog updates (new cookies, reclassified purposes) paired with user-facing notifications and re-consent logic? [Coverage, Spec §User Story 3 Scenario 5]

## Edge Case Coverage

- [ ] CHK022 Is the JavaScript-disabled fallback detailed enough (UI content, localization, essential-cookie list) for implementation? [Edge Case Coverage, Spec §Edge Cases]
- [ ] CHK023 Are scenarios for cleared browser data or private browsing sessions defined so consent state resets behave consistently? [Edge Case Coverage, Spec §Edge Cases]
- [ ] CHK024 Are rules for embedded third-party content (iframes, widgets) described, including how blocked content is communicated prior to consent? [Edge Case Coverage, Spec §Edge Cases]
- [ ] CHK025 Is there guidance for conflicts when a cookie’s purpose or category changes mid-session (retroactive consent, user notification)? [Edge Case Coverage, Spec §Edge Cases]

## Non-Functional Requirements

- [ ] CHK026 Are performance budgets for consent checks (<50ms) and banner rendering (<1s) traced to environments and monitoring strategies? [Non-Functional, Spec §SC-006 & Plan §Technical Context]
- [ ] CHK027 Are accessibility requirements (keyboard focus order, ARIA labels, focus trapping) explicitly listed for banner and modal states? [Non-Functional, Spec §SC-009]
- [ ] CHK028 Are resilience expectations for log storage (3-year retention, backup cadence, PII handling) documented? [Non-Functional, Spec §FR-013]
- [ ] CHK029 Are mobile responsiveness constraints (breakpoints, touch-target sizes) specified to validate SC-009 beyond general statements? [Non-Functional, Spec §SC-009]

## Dependencies & Assumptions

- [ ] CHK030 Are assumptions about administrators supplying accurate cookie metadata backed by contingency plans if data is missing or outdated? [Dependencies, Spec §Assumptions]
- [ ] CHK031 Are dependencies on WordPress roles, Etch theme hooks, and AutomaticCSS utilities documented so non-Etch environments are clearly out of scope? [Dependencies, Plan §Technical Context]
- [ ] CHK032 Are legal content dependencies (privacy policy text, banner copy) identified with ownership and delivery timelines? [Dependencies, Spec §Assumptions]

## Ambiguities & Conflicts

- [ ] CHK033 Is precedence defined between consent persistence guarantees (12 months) and change-triggered re-prompts to avoid stakeholder disputes? [Conflict, Spec §SC-003 & §FR-014]
- [ ] CHK034 Is “immediately” (preference save effects) quantified with technical constraints (latency, async processing) to prevent subjective interpretations? [Ambiguity, Spec §User Story 3]
- [ ] CHK035 Is “noticeable without blocking content” reconciled with accessibility contrast requirements to avoid conflicting design directions? [Ambiguity, Spec §FR-015 & §SC-009]

## Notes

- Check items off as completed: `[x]`
- Add comments or findings inline
- Link to relevant resources or documentation
- Items are numbered sequentially for easy reference
